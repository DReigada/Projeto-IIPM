<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>BarISTa</title>

    <link rel="stylesheet" type="text/css" href="css/table.css">
    <link href="css/bootstrap.min.css" rel="stylesheet">
  </head>
  <body>
    <div id="table" class="container">
      <button type="button" id="topButton" class="btn btn-primary newWindowButton"><img class="fingerprintImg" src="img/fingerprint.png" />New window</button>
      <button type="button" id="bottomButton" class="btn btn-primary newWindowButton"><img class="fingerprintImg" src="img/fingerprint.png" />New window</button>
      <button type="button" id="leftButton" class="btn btn-primary newWindowButton"><img class="fingerprintImg" src="img/fingerprint.png" />New window</button>
      <button type="button" id="rightButton" class="btn btn-primary newWindowButton"><img class="fingerprintImg" src="img/fingerprint.png" />New window</button>
    </div>

<script id="windowTemplate" type="text/template">
    <div class="windowDraggable">
      <div class="window">
        <div class="windowHandle">
          <button class="exitButton">X</button>
          <button class="rotateButton" style="float: right;">ROT</button>
        </div>
        <iframe class="windowiframe" scrolling="no" src="home.html"></iframe>
      </div>
    <div>
</script>

    <!-- jQuery -->
    <script src="js/jquery-2.2.2.min.js"></script>
    <!-- jQuery UI -->
    <script src="js/jquery-ui.min.js"></script>
    <!-- bootstrap -->
    <script src="js/bootstrap.min.js"></script>
    <!-- jQuery plugin to use transforms easily -->
    <script src="js/jquery.transform2d.js">    </script>

    <script type="text/javascript">
     $(".newWindowButton").click(function(event) {
          var scale = 0.6;

          var newWindow = $($("#windowTemplate").html()).appendTo('#table');
          newWindow.css('transform', 'scale(' + scale + ')');
          newWindow.find(".window").css({'transform': 'rotate(0deg)'});
          var limits = [0,0, $("#table").width() - newWindow.find(".window").width() * scale, $("#table").height() - newWindow.find(".window").height() * scale];

          newWindow.draggable({
            iframeFix : true,
            containment: limits
          });
          newWindow.find(".exitButton").click(function(event) {
            $(this).parents(".windowDraggable").remove();
          });
          newWindow.find(".rotateButton").click(function(event) {
            $(this).parents(".window").animate({'transform': '+=rotate(90deg)'});

          });
      });


    </script>
  </body>
</html>
